приложение почти полностью переделано в следующем задании, с jpa, тут просто прототип, проблемы с сильной зависимостью, рекурсией устранены, все перешло на интерфейсы
